<nav class="navbar navbar-expand-lg bg-body-teriary {% if user and user.is_admin %}navbar-admin{% endif %}">
  <div class="container-fluid">
    <a class="navbar-brand" href="/">Quiz Master</a>

    {% if user %}
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
      data-bs-target="#navbarNav" aria-controls="navbarNav"
      aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    {% endif %}

    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav me-auto">
        {% if user %}
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('Homepage') }}">Home</a>
        </li>
        {% if user.is_admin %}
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('adm_Quiz') }}">Quiz</a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('Scores') }}">Scores</a>
        </li>
        {% endif %}
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('admin_summary' if user.is_admin else 'user_summary') }}">Summary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('Logout') }}">Logout</a>
        </li>
        {% else %}
        <li class="nav-item">
          <a class="nav-link active" href="{{ url_for('Login') }}">Login</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="{{ url_for('Register') }}">Register</a>
        </li>
        {% endif %}
      </ul>

      {% if user and user.is_admin %}
      <div class="d-flex">
        <a href="{{ url_for('Search') }}" class="search-link">
          <span class="search-icon">&#128269;</span> Search
        </a>
      </div>
      {% endif %}
    </div>
  </div>
</nav>

<style>
  .navbar {
    position: absolute;
    top: 0;
    left: 0;
    padding-left: 20px;
  }

  .navbar-admin {
    width: 100%;
    position: fixed;
    z-index: 1000;
    background-color: #f8f9fa;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .navbar-brand {
    font-size: 1.5rem;
    font-weight: bold;
  }

  .search-link {
    text-decoration: none;
    color: #333;
    display: flex;
    align-items: center;
    gap: 5px;
  }

  .search-link:hover {
    color: #007bff;
  }

  .search-icon {
    font-size: 1.2rem;
  }
</style>